/* progressive enhancement */
@property --scale {
  syntax: "<number>";
  inherits: true;
  initial-value: 1;
}

@property --opacity {
  syntax: "<number>";
  inherits: true;
  initial-value: 1;
}

/* base theme */
:root {
  --primary-color: #007bff;
  --secondary-color: #6c757d;

  /* light theme colors */
  --bg-primary: #ffffff;
  --bg-secondary: #f5f5f5;
  --text-primary: #1a1a1a;
  --text-secondary: #6c757d;
  --border-color: #e0e0e0;
  --shadow-color: rgba(0, 0, 0, 0.1);

  color-scheme: light;
}

/* dark theme */
:root[data-theme="dark"] {
  --primary-color: #4dabf7;
  --secondary-color: #909296;
  --bg-primary: #1a1a1a;
  --bg-secondary: #2d2d2d;
  --text-primary: #e0e0e0;
  --text-secondary: #a0a0a0;
  --border-color: #404040;
  --shadow-color: rgba(0, 0, 0, 0.3);

  color-scheme: dark;
}

/* respect system preference if no manual selection */
@media (prefers-color-scheme: dark) {
  :root:not([data-theme]) {
    --primary-color: #4dabf7;
    --secondary-color: #909296;
    --bg-primary: #1a1a1a;
    --bg-secondary: #2d2d2d;
    --text-primary: #e0e0e0;
    --text-secondary: #a0a0a0;
    --border-color: #404040;
    --shadow-color: rgba(0, 0, 0, 0.3);

    color-scheme: dark;
  }
}

/* design tokens */
:root {
  --scale: 1;

  --space-base: 0.25rem;
  --font-base: 1rem;

  --space-2: calc(var(--space-base) * var(--scale) * 2);
  --space-4: calc(var(--space-base) * var(--scale) * 4);

  --font-body: clamp(
    calc(0.95rem * var(--scale)),
    calc(0.9rem + 0.4vw * var(--scale)),
    calc(1.05rem * var(--scale))
  );

  --font-label: calc(var(--font-base) * var(--scale) * 0.875);

  /* opacity steps for pseudo states */
  --opacity-hover: calc(0.85 * var(--scale));
  --opacity-active: calc(0.8 * var(--scale));
  --opacity-disabled: calc(0.5 * var(--scale));
  --opacity-focus: calc(0.95 * var(--scale));

  /* outline tokens */
  --outline-width: calc(var(--space-base) * var(--scale) * 2);
  --outline-offset: var(--space-base);
}

/** global tokens */
:root {
  --font-stack:
    -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
}

body {
  font-family: var(--font-stack);
  background-color: var(--bg-primary);
  color: var(--text-primary);
  transition:
    background-color 0.3s ease,
    color 0.3s ease;

  /** resets */
  margin: 0;
}
